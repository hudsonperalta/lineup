function drawPos(){$("#sel").text(posSelected)}function openPos(){0==posOpen&&(posOpen=1,$("#posOptions").addClass("open"),$("body").addClass("choosePos"))}function closePos(){posOpen=0,$("#posOptions").removeClass("open")}function remFocus(){$(".playerPos[data-selection]").attr("data-selection","")}function resetPos(e){e.text("").attr("data-set-pos",""),$("[data-pos-number="+setPosNum+"]").attr("data-selected","")}function setPos(){$("[data-set-pos="+thisPosNum+"]").text("").attr("data-set-pos",""),$pos.attr("data-selected","selected"),$setPos.text(thisPos).attr("data-set-pos",thisPosNum),setPosNum=$setPos.attr("data-set-pos"),posList[thisPosNum-1]=$setPos}var theApp=angular.module("lineupApp",["ng-sortable"]);theApp.service("store",function(){return function(e,o){try{if(!o)return JSON.parse(localStorage.getItem(e));localStorage.setItem(e,JSON.stringify(o))}catch(t){}}}),theApp.factory("sortable",["store",function(e){return function(o,t,s){var n,a,r,p=e(o);if(p)for(n=s.length;n--;)a=p.indexOf(s[n][t]),a>-1&&a!==n&&(r=s[n],s[n]=s[a],s[a]=r);return{options:{animation:150,onSort:function(s){e(o,s.models.map(function(e){return e[t]}))}},models:s}}}]),theApp.controller("lineup",["$scope","$http","sortable",function(e,o,t){var s=t("any name","id",[{id:1,name:"Symington, Jack",number:"17"},{id:2,name:"Hudson-Peralta, Noah",number:"6"},{id:3,name:"Butler, Blake",number:"7"},{id:4,name:"Phillips, Quartaze",number:"24"},{id:5,name:"Randall, Robbie",number:"19"},{id:6,name:"George, Nik",number:"2"},{id:7,name:"Flaherty, Evan",number:"41"},{id:8,name:"Bates, Donovan",number:"3"},{id:9,name:"Teschendorf, Bryce",number:"9"},{id:10,name:"Addleman, Jordan",number:"28"},{id:11,name:"Szep, Wil",number:"18"}]);e.models=s.models,e.sortableOptions=s.options}]),theApp.controller("xlineup",["$scope","$http",function(e,o){e.player=[{name:"Symington, Jack",number:"17",defSpot:"1"},{name:"Hudson-Peralta, Noah",number:"6",defSpot:"2"},{name:"Butler, Blake",number:"7",defSpot:"3"},{name:"Phillips, Quartaze",number:"24",defSpot:"4"},{name:"Randall, Robbie",number:"19",defSpot:"5"},{name:"George, Nik",number:"2",defSpot:"6"},{name:"Flaherty, Evan",number:"41",defSpot:"7"},{name:"Bates, Donovan",number:"3",defSpot:"8"},{name:"Teschendorf, Bryce",number:"9",defSpot:"9"},{name:"Addleman, Jordan",number:"28",defSpot:"10"},{name:"Szep, Wil",number:"18",defSpot:"11"}],e.playerConfig={group:"thisLineup",animation:150,store:{get:function(e){var o=localStorage.getItem(e.options.group);return o?o.split("|"):[]},set:function(e){var o=e.toArray();localStorage.setItem(e.options.group,o.join("|"))}}},e.spots=10,e.getSpots=function(e){return new Array(e)},e.positions=[{pos:"P",posNum:"1"},{pos:"C",posNum:"2"},{pos:"1B",posNum:"3"},{pos:"2B",posNum:"4"},{pos:"3B",posNum:"5"},{pos:"SS",posNum:"6"},{pos:"LF",posNum:"7"},{pos:"CF",posNum:"8"},{pos:"RF",posNum:"9"},{pos:"EH",posNum:"10"}]}]);var posOpen=0,posList=new Array(10),$setPos,setPosNum,$pos,thisPos,thisPosNum;$(document).on("click",".playerPos",function(){remFocus(),$(this).attr("data-selection","focus"),$setPos=$('.playerPos[data-selection="focus"]'),setPosNum=$setPos.attr("data-set-pos"),1!=posOpen&&openPos(),setPosNum>0&&(resetPos($setPos),setPosNum="")}),$(document).on("click","#posOptions li",function(){$pos=$(this),thisPos=$pos.attr("data-pos"),thisPosNum=$pos.attr("data-pos-number"),"selected"!=$pos.attr("data-selected")?""==setPosNum?setPos():(resetPos($pos),setPos()):(resetPos(posList[thisPosNum-1]),setPos())});